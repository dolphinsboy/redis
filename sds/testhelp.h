#ifndef __TEST_HELP_H
#define __TEST_HELP_H
int __failed_tests = 0;
int __test_num = 0;

#define test_cond(descr, _c) do{ \
    __test_num++;printf("%d - %s: ", __test_num, descr); \
    if(_c) printf("PASSED\n"); else { printf("FAILED\n"); __failed_tests++;} \
}while(0);

#define test_report() do{ \
    printf("%d tests, %d passed, %d failed\n", __test_num, \
            __test_num - __failed_tests, __failed_tests); \
    if(__failed_tests){ \
        printf("=== WARNING === We have failed tests here...\n"); \
        exit(1);\
    }\
}while(0);
#endif 
